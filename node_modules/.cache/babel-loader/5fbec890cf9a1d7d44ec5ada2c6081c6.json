{"ast":null,"code":"import _objectSpread from \"/Users/kangjiyeon/hello-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/kangjiyeon/hello-react/src/alert.jsx\";\nimport React, { Component } from 'react'; //import { is, fromJS } from 'immutable';\n\nimport { is, fromJS } from 'immutable/dist/immutable';\nimport ReactDOM from 'react-dom';\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group';\nimport './alert.css';\nlet defaultState = {\n  alertStatus: false,\n  alertTip: \"提示\",\n  closeAlert: function () {}\n};\n\nclass Alert extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = _objectSpread({}, defaultState);\n\n    this.FirstChild = props => {\n      const childrenArray = React.Children.toArray(props.children);\n      return childrenArray[0] || null;\n    };\n\n    this.confirm = () => {\n      this.setState({\n        alertStatus: false\n      });\n      this.state.closeAlert();\n    };\n\n    this.open = options => {\n      options = options || {};\n      options.alertStatus = true;\n      this.setState(_objectSpread({}, defaultState, options));\n    };\n  }\n\n  close() {\n    this.state.closeAlert();\n    this.setState(_objectSpread({}, defaultState));\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return !is(fromJS(this.props), fromJS(nextProps)) || !is(fromJS(this.state), fromJS(nextState));\n  }\n\n  render() {\n    return React.createElement(ReactCSSTransitionGroup, {\n      component: this.FirstChild,\n      transitionName: \"hide\",\n      transitionEnterTimeout: 300,\n      transitionLeaveTimeout: 300,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"alert-con\",\n      style: this.state.alertStatus ? {\n        display: 'block'\n      } : {\n        display: 'none'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"alert-context\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"alert-content-detail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, this.state.alertTip), React.createElement(\"div\", {\n      className: \"comfirm\",\n      onClick: this.confirm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"\\u786E\\u8BA4\"))));\n  }\n\n}\n\nlet div = document.createElement('div');\nlet props = {};\ndocument.body.appendChild(div);\nlet Box = ReactDOM.render(React.createElement(Alert, props), div);\nexport default Box;","map":{"version":3,"sources":["/Users/kangjiyeon/hello-react/src/alert.jsx"],"names":["React","Component","is","fromJS","ReactDOM","ReactCSSTransitionGroup","defaultState","alertStatus","alertTip","closeAlert","Alert","state","FirstChild","props","childrenArray","Children","toArray","children","confirm","setState","open","options","close","shouldComponentUpdate","nextProps","nextState","render","display","div","document","createElement","body","appendChild","Box"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n//import { is, fromJS } from 'immutable';\nimport {is, fromJS} from 'immutable/dist/immutable'; \n\nimport ReactDOM from 'react-dom';\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group';\nimport './alert.css';\n \n \nlet defaultState = {\n  alertStatus:false,\n  alertTip:\"提示\",\n  closeAlert:function(){}\n}\n \nclass Alert extends Component{\n \n  state = {\n    ...defaultState\n  };\n  // css动画组件设置为目标组件\n  FirstChild = props => {\n    const childrenArray = React.Children.toArray(props.children);\n    return childrenArray[0] || null;\n  }\n  // 关闭弹框\n  confirm = () => {\n    this.setState({\n      alertStatus:false\n    })\n    this.state.closeAlert();\n  }\n  open =(options)=>{\n    options = options || {};\n    options.alertStatus = true;\n    this.setState({\n      ...defaultState,\n      ...options\n    })\n  }\n  close(){\n    this.state.closeAlert();\n    this.setState({\n      ...defaultState\n    })\n  }\n  shouldComponentUpdate(nextProps, nextState){\n    return !is(fromJS(this.props), fromJS(nextProps)) || !is(fromJS(this.state), fromJS(nextState))\n  }\n   \n  render(){\n    return (\n      <ReactCSSTransitionGroup\n        component={this.FirstChild}\n        transitionName='hide'\n        transitionEnterTimeout={300}\n        transitionLeaveTimeout={300}>\n        <div className=\"alert-con\" style={this.state.alertStatus? {display:'block'}:{display:'none'}}>\n          <div className=\"alert-context\">\n            <div className=\"alert-content-detail\">{this.state.alertTip}</div>\n            <div className=\"comfirm\" onClick={this.confirm}>确认</div>\n          </div>\n        </div>\n      </ReactCSSTransitionGroup>\n    );\n  }\n}\n \nlet div = document.createElement('div');\nlet props = {\n   \n};\ndocument.body.appendChild(div);\n \nlet Box = ReactDOM.render(React.createElement(\n  Alert,\n  props\n),div);\n \n \n \nexport default Box;"]},"metadata":{},"sourceType":"module"}